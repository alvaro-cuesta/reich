{"version":3,"sources":["webpack:///reich.60ff185223dc1c9c3165.js","webpack:///../node_modules/react-hot-loader/index.js","webpack:///../node_modules/react-hot-loader/lib/index.js","webpack:///../node_modules/react-hot-loader/lib/index.prod.js","webpack:///../node_modules/react-hot-loader/lib/AppContainer.js","webpack:///../node_modules/react-hot-loader/lib/AppContainer.prod.js","webpack:///./components/App.jsx","webpack:///./components/PatternTable.jsx","webpack:///./index.jsx"],"names":["webpackJsonp","173","module","exports","__webpack_require__","174","175","AppContainer","176","177","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","React","Component","_Component","this","getPrototypeOf","apply","arguments","component","createElement","Children","only","children","178","_interopRequireDefault","obj","__esModule","default","_defineProperty","_objectWithoutProperties","keys","indexOf","hasOwnProperty","_react","_react2","_propTypes","_classnames","_PatternTable","_PatternTable2","CLAP_PATTERN","CLAP1_F","CLAP2_F","METRONOME_ACCENT_F","CLAP1_KEYS","CLAP2_KEYS","localStorageGet","parser","defaultVal","result","localStorage","getItem","Input","_ref","label","type","className","Oscillator","context","f","oscillator","createOscillator","frequency","gain","createGain","start","connect","destination","end","setValueAtTime","now","currentTime","cancelScheduledValues","disconnect","parseBool","b","App","_React$PureComponent","_this","clap1","clap2","metronome","handleKeyDown","bind","handleSound","handleStart","handleStop","handleSetting","state","tempo","parseInt","repeats","swing","parseFloat","countMetronome","startTime","userInput","window","addEventListener","removeEventListener","_ref2","repeat","keyCode","timeStamp","_getPosition","getPosition","pattern","pulse","_getPulseDiff","getPulseDiff","performance","currPulseDiff","nextPulseDiff","includes","console","log","undefined","setState","_this2","x","_ref3","_ref3$target","checked","setItem","_ref4","_this3","performanceNow","lastPulse","getSecsPerBeat","schedule","timeInterval","setInterval","clearInterval","_getPosition2","totalPulses","schedulePulseSound","_state","pulseStart","getPulseStart","pulseEnd","shift","Math","floor","isMetronome","isCountMetronome","scheduleFrequency","_state2","totalBeats","delta","_getPosition3","secsPerBeat","_state3","_state4","_getPosition4","buttonHandler","buttonLabel","min","max","step","onChange","clapPattern","PureComponent","propTypes","180","_reactDom","_reactDom2","easeOutSine","t","c","d","sin","PI","smoothScroll","element","position","duration","easingFn","originalPosition","scrollTop","dx","scroll","dt","requestAnimationFrame","SCROLL_EASING","ClapRow","_props","head","highlightPulse","currentPattern","donePattern","map","_","shifted","isClap","didntHit","colorClass","defaultProps","PatternTable","_React$PureComponent2","rows","scrollAnchor","offsetTop","offsetHeight","scrollToPattern","document","scrollingElement","_props2","originalPattern","ref","e","findDOMNode","onClick","Array","181","81","82","_reactHotLoader","_App","_App2","AudioContext","render","getElementById"],"mappings":"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","file":"reich.60ff185223dc1c9c3165.js","sourcesContent":["webpackJsonp([1],{\n\n/***/ 173:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(174)\n\n\n/***/ }),\n\n/***/ 174:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/* eslint-disable global-require */\n\nif (true) {\n  module.exports = __webpack_require__(175);\n} else {\n  module.exports = require('./index.dev');\n}\n\n/***/ }),\n\n/***/ 175:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports.AppContainer = __webpack_require__(176);\n\n/***/ }),\n\n/***/ 176:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/* eslint-disable global-require */\n\nif (true) {\n  module.exports = __webpack_require__(177);\n} else {\n  module.exports = require('./AppContainer.dev');\n}\n\n/***/ }),\n\n/***/ 177:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint-disable react/prop-types */\n\nvar React = __webpack_require__(17);\n\nvar Component = React.Component;\n\nvar AppContainer = function (_Component) {\n  _inherits(AppContainer, _Component);\n\n  function AppContainer() {\n    _classCallCheck(this, AppContainer);\n\n    return _possibleConstructorReturn(this, (AppContainer.__proto__ || Object.getPrototypeOf(AppContainer)).apply(this, arguments));\n  }\n\n  _createClass(AppContainer, [{\n    key: 'render',\n    value: function render() {\n      if (this.props.component) {\n        return React.createElement(this.props.component, this.props.props);\n      }\n\n      return React.Children.only(this.props.children);\n    }\n  }]);\n\n  return AppContainer;\n}(Component);\n\nmodule.exports = AppContainer;\n\n/***/ }),\n\n/***/ 178:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(17);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(47);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = __webpack_require__(48);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nvar _PatternTable = __webpack_require__(180);\n\nvar _PatternTable2 = _interopRequireDefault(_PatternTable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar CLAP_PATTERN = [true, true, true, false, true, true, false, true, false, true, true, false];\nvar CLAP_LENGTH = 0.0125;\nvar CLAP1_F = 440;\nvar CLAP2_F = 230;\nvar METRONOME_F = 890;\nvar METRONOME_ACCENT_F = 1780;\nvar ACCENT_GAIN = 1;\nvar GAIN = 0.25;\nvar CLAP1_KEYS = [90];\nvar CLAP2_KEYS = [77];\n\nvar localStorageGet = function localStorageGet(key, parser, defaultVal) {\n  var result = localStorage.getItem(key);\n  return result !== null ? parser(result) : defaultVal;\n};\n\nvar Input = function Input(_ref) {\n  var label = _ref.label,\n      props = _objectWithoutProperties(_ref, ['label']);\n\n  return _react2.default.createElement(\n    'label',\n    null,\n    props.type !== 'checkbox' ? _react2.default.createElement(\n      'span',\n      { className: 'label noselect' },\n      label\n    ) : null,\n    _react2.default.createElement('input', props),\n    props.type === 'checkbox' ? _react2.default.createElement(\n      'span',\n      { className: 'label noselect' },\n      label\n    ) : null\n  );\n};\n\nvar Oscillator = function () {\n  function Oscillator(context, f) {\n    _classCallCheck(this, Oscillator);\n\n    this.f = f;\n    this.context = context;\n\n    this.oscillator = context.createOscillator();\n    this.oscillator.type = 'square';\n    this.oscillator.frequency.value = f;\n\n    this.gain = context.createGain();\n    this.gain.gain.value = 0;\n\n    this.oscillator.start();\n    this.oscillator.connect(this.gain);\n\n    this.gain.connect(context.destination);\n  }\n\n  _createClass(Oscillator, [{\n    key: 'schedule',\n    value: function schedule(gain, start, end) {\n      this.gain.gain.setValueAtTime(gain, start);\n      this.gain.gain.setValueAtTime(0, end);\n    }\n  }, {\n    key: 'scheduleFrequency',\n    value: function scheduleFrequency(frequency, start) {\n      this.oscillator.frequency.setValueAtTime(frequency, start);\n    }\n  }, {\n    key: 'cancelScheduledValues',\n    value: function cancelScheduledValues() {\n      var now = this.context.currentTime;\n\n      this.oscillator.frequency.cancelScheduledValues(now);\n      this.gain.gain.cancelScheduledValues(now);\n\n      this.gain.gain.value = 0;\n      this.oscillator.frequency.value = this.f;\n    }\n  }, {\n    key: 'disconnect',\n    value: function disconnect() {\n      this.gain.disconnect();\n      this.oscillator.disconnect();\n    }\n  }]);\n\n  return Oscillator;\n}();\n\nvar parseBool = function parseBool(b) {\n  return b === 'true';\n};\n\nvar App = function (_React$PureComponent) {\n  _inherits(App, _React$PureComponent);\n\n  function App(props) {\n    _classCallCheck(this, App);\n\n    var _this = _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).call(this, props));\n\n    var context = props.context;\n\n\n    _this.clap1 = new Oscillator(context, CLAP1_F);\n    _this.clap2 = new Oscillator(context, CLAP2_F);\n    _this.metronome = new Oscillator(context, METRONOME_ACCENT_F);\n\n    _this.handleKeyDown = _this.handleKeyDown.bind(_this);\n    _this.handleSound = _this.handleSound.bind(_this);\n    _this.handleStart = _this.handleStart.bind(_this);\n    _this.handleStop = _this.handleStop.bind(_this);\n    _this.handleSetting = _this.handleSetting.bind(_this);\n\n    _this.state = {\n      tempo: localStorageGet('tempo', parseInt, 120),\n      repeats: localStorageGet('repeats', parseInt, 4),\n      swing: localStorageGet('swing', parseFloat, 0.5),\n      clap1: localStorageGet('clap1', parseBool, true),\n      clap2: localStorageGet('clap2', parseBool, true),\n      metronome: localStorageGet('metronome', parseBool, false),\n      countMetronome: localStorageGet('countMetronome', parseBool, true),\n      startTime: false,\n      now: false,\n      userInput: false\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: 'componentWillMount',\n    value: function componentWillMount() {\n      window.addEventListener('keydown', this.handleKeyDown, false);\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.handleStop();\n\n      this.clap1.disconnect();\n      this.clap2.disconnect();\n      this.metronome.disconnect();\n\n      window.removeEventListener('keydown', this.handleKeyDown, false);\n    }\n\n    //\n\n  }, {\n    key: 'handleKeyDown',\n    value: function handleKeyDown(_ref2) {\n      var repeat = _ref2.repeat,\n          key = _ref2.key,\n          keyCode = _ref2.keyCode,\n          timeStamp = _ref2.timeStamp;\n\n      if (repeat) return;\n\n      var userInput = this.state.userInput;\n\n      var _getPosition = this.getPosition(),\n          pattern = _getPosition.pattern,\n          pulse = _getPosition.pulse;\n\n      var _getPulseDiff = this.getPulseDiff(performance.now() - timeStamp),\n          currPulseDiff = _getPulseDiff.currPulseDiff,\n          nextPulseDiff = _getPulseDiff.nextPulseDiff;\n\n      if (CLAP1_KEYS.includes(keyCode)) {\n        console.log('clap1', currPulseDiff, nextPulseDiff);\n\n        if (userInput[pattern] === undefined) {\n          userInput[pattern] = [];\n        }\n\n        if (currPulseDiff < nextPulseDiff) {\n          userInput[pattern][pulse] = currPulseDiff;\n        } else {\n          pulse += 1;\n          if (pulse === CLAP_PATTERN.length) {\n            pulse = 0;\n            pattern += 1;\n\n            if (userInput[pattern] === undefined) {\n              userInput[pattern] = [];\n            }\n          }\n\n          userInput[pattern][pulse] = nextPulseDiff;\n        }\n\n        this.setState({ userInput: userInput });\n      } else if (CLAP2_KEYS.includes(keyCode)) {\n        console.log('clap2', currPulseDiff, nextPulseDiff);\n      } else {\n        console.log(key, keyCode);\n      }\n    }\n  }, {\n    key: 'handleSetting',\n    value: function handleSetting(key, f) {\n      var _this2 = this;\n\n      if (typeof f === 'undefined') {\n        f = function f(x) {\n          return x;\n        };\n      }\n\n      return function (_ref3) {\n        var _ref3$target = _ref3.target,\n            type = _ref3$target.type,\n            value = _ref3$target.value,\n            checked = _ref3$target.checked;\n\n        if (type === 'checkbox') {\n          localStorage.setItem(key, checked);\n          _this2.setState(_defineProperty({}, '' + key, f(checked)));\n        } else {\n          localStorage.setItem(key, value);\n          _this2.setState(_defineProperty({}, '' + key, f(value)));\n        }\n      };\n    }\n  }, {\n    key: 'handleStart',\n    value: function handleStart(_ref4) {\n      var _this3 = this;\n\n      var timeStamp = _ref4.timeStamp;\n      var context = this.props.context;\n      var countMetronome = this.state.countMetronome;\n\n\n      var now = context.currentTime;\n\n      this.clap1.cancelScheduledValues();\n      this.clap2.cancelScheduledValues();\n      this.metronome.cancelScheduledValues();\n\n      this.performanceNow = performance.now();\n      this.timeStamp = timeStamp;\n\n      this.lastPulse = false;\n\n      this.setState({\n        startTime: now + this.getSecsPerBeat() / 2 * CLAP_PATTERN.length,\n        now: now,\n        userInput: []\n      });\n\n      if (countMetronome) {\n        this.metronome.schedule(ACCENT_GAIN, now, now + CLAP_LENGTH);\n      }\n\n      this.timeInterval = setInterval(function () {\n        _this3.setState({ now: context.currentTime }, _this3.handleSound);\n      }, 1);\n    }\n  }, {\n    key: 'handleStop',\n    value: function handleStop() {\n      var context = this.props.context;\n\n\n      clearInterval(this.timeInterval);\n\n      this.clap1.cancelScheduledValues();\n      this.clap2.cancelScheduledValues();\n      this.metronome.cancelScheduledValues();\n\n      this.setState({\n        startTime: false,\n        now: false\n      });\n    }\n\n    //\n\n  }, {\n    key: 'handleSound',\n    value: function handleSound() {\n      var repeats = this.state.repeats;\n\n      var _getPosition2 = this.getPosition(),\n          pattern = _getPosition2.pattern,\n          pulse = _getPosition2.pulse,\n          totalPulses = _getPosition2.totalPulses;\n\n      if (pattern >= (CLAP_PATTERN.length + 1) * repeats) {\n        this.handleStop();\n        return;\n      }\n\n      if (this.lastPulse === false) {\n        // Just started: schedfule first pulse\n        this.lastPulse = 0;\n      } else {\n        if (pulse === this.lastPulse) return;\n        this.lastPulse = pulse;\n      }\n\n      // Schedule _next_ pulse\n\n      pulse += 1;\n      totalPulses += 1;\n\n      if (pulse === CLAP_PATTERN.length) {\n        pulse = 0;\n        pattern += 1;\n      }\n\n      if (pattern >= (CLAP_PATTERN.length + 1) * repeats) return;\n\n      this.schedulePulseSound(pulse, pattern, totalPulses);\n    }\n  }, {\n    key: 'schedulePulseSound',\n    value: function schedulePulseSound(pulse, pattern, totalPulses, instant) {\n      var _state = this.state,\n          clap1 = _state.clap1,\n          clap2 = _state.clap2,\n          metronome = _state.metronome,\n          countMetronome = _state.countMetronome,\n          repeats = _state.repeats;\n\n\n      var pulseStart = this.getPulseStart(totalPulses);\n      var pulseEnd = pulseStart + CLAP_LENGTH;\n      var gain = pulse === 0 ? ACCENT_GAIN : GAIN;\n\n      if (pattern >= 0) {\n        if (clap1 && CLAP_PATTERN[pulse % CLAP_PATTERN.length]) {\n          this.clap1.schedule(gain, pulseStart, pulseEnd);\n        }\n\n        var shift = Math.floor(pattern / repeats);\n        if (clap2 && CLAP_PATTERN[(shift + pulse) % CLAP_PATTERN.length]) {\n          this.clap2.schedule(gain, pulseStart, pulseEnd);\n        }\n      }\n\n      var isMetronome = metronome && pattern >= 0 && pulse % 2 === 0;\n      var isCountMetronome = countMetronome && pattern === -1 && pulse % 2 === 0;\n      if (isMetronome || isCountMetronome) {\n        this.metronome.scheduleFrequency(pulse === 0 ? METRONOME_ACCENT_F : METRONOME_F, pulseStart);\n        this.metronome.schedule(gain, pulseStart, pulseEnd);\n      }\n    }\n  }, {\n    key: 'getSecsPerBeat',\n    value: function getSecsPerBeat() {\n      return 60 / this.state.tempo;\n    }\n  }, {\n    key: 'getPosition',\n    value: function getPosition() {\n      var _state2 = this.state,\n          swing = _state2.swing,\n          startTime = _state2.startTime,\n          now = _state2.now;\n\n\n      if (startTime === false) return {};\n\n      var totalBeats = (now - startTime) / this.getSecsPerBeat();\n\n      var totalPulses = Math.floor(totalBeats) * 2 + ((1 + totalBeats % 1) % 1 < swing ? 0 : 1);\n\n      // console.log(totalPulses);\n\n      if (startTime >= now) {\n        var pulse = totalPulses;\n        while (pulse < 0) {\n          pulse += CLAP_PATTERN.length;\n        }return {\n          pattern: Math.floor(totalPulses / CLAP_PATTERN.length),\n          pulse: pulse,\n          totalPulses: totalPulses\n        };\n      }\n\n      return {\n        pattern: Math.floor(totalPulses / CLAP_PATTERN.length),\n        pulse: totalPulses % CLAP_PATTERN.length,\n        totalPulses: totalPulses\n      };\n    }\n  }, {\n    key: 'getPulseDiff',\n    value: function getPulseDiff(delta) {\n      var context = this.props.context;\n      var swing = this.state.swing;\n\n      var _getPosition3 = this.getPosition(),\n          totalPulses = _getPosition3.totalPulses;\n\n      var now = context.currentTime - delta / 1000;\n      var secsPerBeat = this.getSecsPerBeat();\n\n      var currPulseDiff = (now - this.getPulseStart(totalPulses)) / (secsPerBeat * swing);\n      var nextPulseDiff = (this.getPulseStart(totalPulses + 1) - now) / (secsPerBeat * (1 - swing));\n\n      return {\n        currPulseDiff: currPulseDiff,\n        nextPulseDiff: nextPulseDiff\n      };\n    }\n  }, {\n    key: 'getPulseStart',\n    value: function getPulseStart(totalPulses) {\n      var _state3 = this.state,\n          startTime = _state3.startTime,\n          swing = _state3.swing;\n\n\n      var totalBeats = Math.floor(totalPulses / 2) + (totalPulses % 2 === 0 ? 0 : swing);\n\n      return startTime + totalBeats * this.getSecsPerBeat();\n    }\n\n    //\n\n  }, {\n    key: 'render',\n    value: function render() {\n      var _state4 = this.state,\n          tempo = _state4.tempo,\n          repeats = _state4.repeats,\n          swing = _state4.swing,\n          clap1 = _state4.clap1,\n          clap2 = _state4.clap2,\n          metronome = _state4.metronome,\n          countMetronome = _state4.countMetronome,\n          startTime = _state4.startTime,\n          now = _state4.now,\n          userInput = _state4.userInput;\n\n      var _getPosition4 = this.getPosition(),\n          pattern = _getPosition4.pattern,\n          pulse = _getPosition4.pulse;\n\n      var buttonHandler = void 0,\n          buttonLabel = void 0;\n      if (pattern === undefined) {\n        buttonHandler = this.handleStart;\n        buttonLabel = 'Start';\n      } else if (pattern < 0) {\n        buttonHandler = this.handleStop;\n        buttonLabel = Math.floor(pulse / 2) + 1;\n      } else {\n        buttonHandler = this.handleStop;\n        buttonLabel = 'Stop';\n      }\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'reich-app' },\n        _react2.default.createElement(\n          'div',\n          { className: 'controls' },\n          _react2.default.createElement(\n            'fieldset',\n            { className: 'tempo' },\n            _react2.default.createElement(Input, { label: 'Tempo:', type: 'number',\n              min: 1, max: 999, step: 1, value: tempo,\n              onChange: this.handleSetting('tempo', parseInt)\n            }),\n            _react2.default.createElement(Input, { label: 'Repeats:', type: 'number',\n              min: 1, max: 999, step: 1, value: repeats,\n              onChange: this.handleSetting('repeats', parseInt)\n            }),\n            _react2.default.createElement(Input, { label: 'Swing:', type: 'number',\n              min: 0.1, max: 0.9, step: 0.01, value: swing,\n              onChange: this.handleSetting('swing', parseFloat)\n            })\n          ),\n          _react2.default.createElement(\n            'fieldset',\n            null,\n            _react2.default.createElement(\n              'div',\n              { className: 'noselect' },\n              'Sounds:'\n            ),\n            _react2.default.createElement(Input, { label: 'Clap 1', type: 'checkbox', checked: clap1,\n              onChange: this.handleSetting('clap1')\n            }),\n            _react2.default.createElement(Input, { label: 'Clap 2', type: 'checkbox', checked: clap2,\n              onChange: this.handleSetting('clap2')\n            }),\n            _react2.default.createElement(Input, { label: 'Metronome', type: 'checkbox', checked: metronome,\n              onChange: this.handleSetting('metronome')\n            }),\n            _react2.default.createElement(Input, { label: 'Count', type: 'checkbox', checked: countMetronome,\n              onChange: this.handleSetting('countMetronome')\n            })\n          )\n        ),\n        _react2.default.createElement(_PatternTable2.default, {\n          buttonHandler: buttonHandler,\n          buttonLabel: buttonLabel,\n          clapPattern: CLAP_PATTERN,\n          pattern: pattern,\n          pulse: pulse,\n          repeats: repeats,\n          userInput: userInput\n        })\n      );\n    }\n  }]);\n\n  return App;\n}(_react2.default.PureComponent);\n\nexports.default = App;\n\n\nApp.propTypes = {};\n\n/***/ }),\n\n/***/ 180:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(17);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(29);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _propTypes = __webpack_require__(47);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _classnames = __webpack_require__(48);\n\nvar _classnames2 = _interopRequireDefault(_classnames);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// Easing fns\n// t: current time, b: begInnIng value, c: target value, d: duration\n\nvar linearSmooth = function linearSmooth(t, b, c, d) {\n  return t / d * c + b;\n};\nvar easeOutCubic = function easeOutCubic(t, b, c, d) {\n  return c * ((t = t / d - 1) * t * t + 1) + b;\n};\nvar easeOutSine = function easeOutSine(t, b, c, d) {\n  return c * Math.sin(t / d * (Math.PI / 2)) + b;\n};\n\nvar smoothScroll = function smoothScroll(element, position, duration, easingFn) {\n  var originalPosition = element.scrollTop;\n  var dx = position - element.scrollTop;\n  var startTime = performance.now();\n\n  var scroll = function scroll() {\n    var dt = performance.now() - startTime;\n\n    if (dt > duration) {\n      element.scrollTop = position;\n      return;\n    }\n\n    element.scrollTop = easingFn(dt, originalPosition, dx, duration);\n\n    requestAnimationFrame(scroll);\n  };\n\n  requestAnimationFrame(scroll);\n};\n\nvar EMPTY_ROWS = 1;\nvar SCROLL_DURATION = 300;\nvar SCROLL_EASING = easeOutSine;\n\nvar ClapRow = function (_React$PureComponent) {\n  _inherits(ClapRow, _React$PureComponent);\n\n  function ClapRow() {\n    _classCallCheck(this, ClapRow);\n\n    return _possibleConstructorReturn(this, (ClapRow.__proto__ || Object.getPrototypeOf(ClapRow)).apply(this, arguments));\n  }\n\n  _createClass(ClapRow, [{\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          clapPattern = _props.clapPattern,\n          head = _props.head,\n          shift = _props.shift,\n          highlightPulse = _props.highlightPulse,\n          currentPattern = _props.currentPattern,\n          donePattern = _props.donePattern,\n          userInput = _props.userInput,\n          className = _props.className;\n\n\n      return _react2.default.createElement(\n        'div',\n        { className: 'clap-row ' + className },\n        _react2.default.createElement(\n          'div',\n          { className: 'head' },\n          head\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'pattern' },\n          clapPattern.map(function (_, i) {\n            var shifted = (i + shift) % clapPattern.length;\n            var isClap = clapPattern[shifted];\n            var className = 'cell pulse ' + (isClap ? 'clap' : 'silence') + ' ' + (i === highlightPulse ? 'highlight' : '') + ' ';\n\n            var didntHit = userInput === undefined || userInput[i] === undefined;\n            var colorClass = didntHit ? 'no-hit' : userInput[i] > 2 / 3 ? 'hit-bad' : userInput[i] > 1 / 3 ? 'hit-ok' : 'hit-good';\n\n            if (currentPattern) {\n              if (i < highlightPulse || i === highlightPulse && !didntHit) {\n                className += colorClass;\n              }\n            } else if (donePattern || userInput !== undefined) {\n              className += colorClass;\n            }\n\n            return _react2.default.createElement('div', { key: i, className: className });\n          })\n        )\n      );\n    }\n  }]);\n\n  return ClapRow;\n}(_react2.default.PureComponent);\n\nClapRow.defaultProps = {\n  head: '',\n  shift: 0,\n  className: ''\n};\n\nvar PatternTable = function (_React$PureComponent2) {\n  _inherits(PatternTable, _React$PureComponent2);\n\n  function PatternTable(props) {\n    _classCallCheck(this, PatternTable);\n\n    var _this2 = _possibleConstructorReturn(this, (PatternTable.__proto__ || Object.getPrototypeOf(PatternTable)).call(this, props));\n\n    _this2.rows = [];\n    return _this2;\n  }\n\n  _createClass(PatternTable, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.scrollAnchor.scrollTop = this.rows[0] - this.scrollAnchor.offsetTop + this.rows[0].offsetHeight - 4;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(_ref) {\n      var pattern = _ref.pattern;\n\n      if (this.props.pattern !== pattern) {\n        if (pattern === undefined || pattern <= 0) pattern = 0;\n\n        this.scrollToPattern(pattern);\n      }\n    }\n  }, {\n    key: 'scrollToPattern',\n    value: function scrollToPattern(i) {\n      smoothScroll(document.scrollingElement, this.rows[i].offsetTop - this.scrollAnchor.offsetTop + this.rows[i].offsetHeight - /* HACK */4, SCROLL_DURATION, SCROLL_EASING);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this3 = this;\n\n      var _props2 = this.props,\n          buttonHandler = _props2.buttonHandler,\n          buttonLabel = _props2.buttonLabel,\n          clapPattern = _props2.clapPattern,\n          pattern = _props2.pattern,\n          pulse = _props2.pulse,\n          repeats = _props2.repeats,\n          userInput = _props2.userInput,\n          className = _props2.className;\n\n\n      var originalPattern = pattern;\n\n      if (pattern === undefined || pattern <= 0) pattern = 0;\n\n      return _react2.default.createElement(\n        'div',\n        {\n          className: 'pattern-table noselect ' + className,\n          ref: function ref(e) {\n            return _this3.scrollAnchor = _reactDom2.default.findDOMNode(e);\n          }\n        },\n        _react2.default.createElement(\n          'div',\n          { className: 'arrow-row' },\n          _react2.default.createElement(\n            'div',\n            { className: 'head' },\n            _react2.default.createElement(\n              'button',\n              { className: 'noselect', onClick: buttonHandler },\n              buttonLabel\n            )\n          ),\n          _react2.default.createElement(\n            'div',\n            { className: 'pattern' },\n            clapPattern.map(function (_, i) {\n              return _react2.default.createElement(\n                'div',\n                { key: i, className: 'cell arrow' },\n                originalPattern >= -1 && i === pulse ? '▼' : ''\n              );\n            })\n          )\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'pattern-clap1' },\n          _react2.default.createElement(ClapRow, { clapPattern: clapPattern, head: 'Clap 1 ➡', shift: 0, highlightPulse: pulse })\n        ),\n        _react2.default.createElement(\n          'div',\n          { className: 'pattern-clap2' },\n          Array.apply(null, { length: EMPTY_ROWS }).map(function (_, i) {\n            return _react2.default.createElement(ClapRow, { key: i,\n              ref: function ref(e) {\n                return _this3.rows[i] = _reactDom2.default.findDOMNode(e);\n              },\n              clapPattern: clapPattern,\n              className: 'empty'\n            });\n          }),\n          Array.apply(null, { length: (clapPattern.length + 1) * repeats }).map(function (_, i) {\n            return _react2.default.createElement(ClapRow, { key: i,\n              ref: function ref(e) {\n                return _this3.rows[i + EMPTY_ROWS] = _reactDom2.default.findDOMNode(e);\n              },\n              clapPattern: clapPattern,\n              className: i === pattern ? 'highlight' : '',\n              highlightPulse: i === pattern ? pulse : undefined,\n              head: i === pattern ? 'Clap 2 ➡' : '',\n              shift: Math.floor(i / repeats),\n              userInput: userInput[i],\n              donePattern: i < originalPattern,\n              currentPattern: i === originalPattern\n            });\n          }),\n          _react2.default.createElement(\n            'div',\n            { className: 'padder' },\n            _react2.default.createElement('div', { className: 'head' }),\n            _react2.default.createElement(\n              'div',\n              { className: 'pattern empty' },\n              clapPattern.map(function (_, i) {\n                return _react2.default.createElement('div', { key: i, className: 'cell pulse' });\n              })\n            )\n          )\n        )\n      );\n    }\n  }]);\n\n  return PatternTable;\n}(_react2.default.PureComponent);\n\nexports.default = PatternTable;\n\n\nPatternTable.defaultProps = {\n  className: ''\n};\n\n/***/ }),\n\n/***/ 181:\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ 81:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = __webpack_require__(82);\n\n\n/***/ }),\n\n/***/ 82:\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _react = __webpack_require__(17);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactDom = __webpack_require__(29);\n\nvar _reactDom2 = _interopRequireDefault(_reactDom);\n\nvar _reactHotLoader = __webpack_require__(173);\n\nvar _App = __webpack_require__(178);\n\nvar _App2 = _interopRequireDefault(_App);\n\n__webpack_require__(181);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar context = new AudioContext();\n\n_reactDom2.default.render(_react2.default.createElement(\n  _reactHotLoader.AppContainer,\n  null,\n  _react2.default.createElement(_App2.default, { context: context })\n), document.getElementById('container'));\n\nif (false) {\n  module.hot.accept('./components/App', function () {\n    var NextApp = require('./components/App').default;\n\n    _reactDom2.default.render(_react2.default.createElement(\n      _reactHotLoader.AppContainer,\n      null,\n      _react2.default.createElement(_App2.default, { context: context })\n    ), document.getElementById('container'));\n  });\n}\n\n/***/ })\n\n},[81]);\n\n\n// WEBPACK FOOTER //\n// reich.60ff185223dc1c9c3165.js","module.exports = require('./lib/index')\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/react-hot-loader/index.js\n// module id = 173\n// module chunks = 1","'use strict';\n\n/* eslint-disable global-require */\n\nif (!module.hot || process.env.NODE_ENV === 'production') {\n  module.exports = require('./index.prod');\n} else {\n  module.exports = require('./index.dev');\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/react-hot-loader/lib/index.js\n// module id = 174\n// module chunks = 1","'use strict';\n\nmodule.exports.AppContainer = require('./AppContainer');\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/react-hot-loader/lib/index.prod.js\n// module id = 175\n// module chunks = 1","'use strict';\n\n/* eslint-disable global-require */\n\nif (!module.hot || process.env.NODE_ENV === 'production') {\n  module.exports = require('./AppContainer.prod');\n} else {\n  module.exports = require('./AppContainer.dev');\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/react-hot-loader/lib/AppContainer.js\n// module id = 176\n// module chunks = 1","'use strict';\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/* eslint-disable react/prop-types */\n\nvar React = require('react');\n\nvar Component = React.Component;\n\nvar AppContainer = function (_Component) {\n  _inherits(AppContainer, _Component);\n\n  function AppContainer() {\n    _classCallCheck(this, AppContainer);\n\n    return _possibleConstructorReturn(this, (AppContainer.__proto__ || Object.getPrototypeOf(AppContainer)).apply(this, arguments));\n  }\n\n  _createClass(AppContainer, [{\n    key: 'render',\n    value: function render() {\n      if (this.props.component) {\n        return React.createElement(this.props.component, this.props.props);\n      }\n\n      return React.Children.only(this.props.children);\n    }\n  }]);\n\n  return AppContainer;\n}(Component);\n\nmodule.exports = AppContainer;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ../node_modules/react-hot-loader/lib/AppContainer.prod.js\n// module id = 177\n// module chunks = 1","import React from 'react'\nimport PropTypes from 'prop-types'\nimport cx from 'classnames'\n\nimport PatternTable from 'components/PatternTable'\n\nconst CLAP_PATTERN = [\n  true, true, true, false,\n  true, true, false, true,\n  false, true, true, false,\n];\nconst CLAP_LENGTH = 0.0125;\nconst CLAP1_F = 440;\nconst CLAP2_F = 230;\nconst METRONOME_F = 890;\nconst METRONOME_ACCENT_F = 1780;\nconst ACCENT_GAIN = 1;\nconst GAIN = 0.25;\nconst CLAP1_KEYS = [90];\nconst CLAP2_KEYS = [77];\n\nconst localStorageGet = (key, parser, defaultVal) => {\n  let result = localStorage.getItem(key);\n  return (result !== null) ? parser(result) : defaultVal;\n};\n\nconst Input = ({label, ...props}) => <label>\n  {props.type !== 'checkbox'\n    ? <span className='label noselect'>{label}</span>\n    : null}\n  <input {...props} />\n  {props.type === 'checkbox'\n    ? <span className='label noselect'>{label}</span>\n    : null}\n</label>;\n\nclass Oscillator {\n  constructor(context, f) {\n    this.f = f;\n    this.context = context;\n\n    this.oscillator = context.createOscillator();\n    this.oscillator.type = 'square';\n    this.oscillator.frequency.value = f;\n\n    this.gain = context.createGain();\n    this.gain.gain.value = 0;\n\n    this.oscillator.start();\n    this.oscillator.connect(this.gain);\n\n    this.gain.connect(context.destination);\n  }\n\n  schedule(gain, start, end) {\n    this.gain.gain.setValueAtTime(gain, start);\n    this.gain.gain.setValueAtTime(0, end);\n  }\n\n  scheduleFrequency(frequency, start) {\n    this.oscillator.frequency.setValueAtTime(frequency, start);\n  }\n\n  cancelScheduledValues() {\n    let now = this.context.currentTime;\n\n    this.oscillator.frequency.cancelScheduledValues(now);\n    this.gain.gain.cancelScheduledValues(now);\n\n    this.gain.gain.value = 0;\n    this.oscillator.frequency.value = this.f;\n  }\n\n  disconnect() {\n    this.gain.disconnect();\n    this.oscillator.disconnect();\n  }\n}\n\nconst parseBool = (b) => b === 'true';\n\nexport default class App extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    let {context} = props;\n\n    this.clap1 = new Oscillator(context, CLAP1_F);\n    this.clap2 = new Oscillator(context, CLAP2_F);\n    this.metronome = new Oscillator(context, METRONOME_ACCENT_F);\n\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.handleSound = this.handleSound.bind(this);\n    this.handleStart = this.handleStart.bind(this);\n    this.handleStop = this.handleStop.bind(this);\n    this.handleSetting = this.handleSetting.bind(this);\n\n    this.state = {\n      tempo: localStorageGet('tempo', parseInt, 120),\n      repeats: localStorageGet('repeats', parseInt, 4),\n      swing: localStorageGet('swing', parseFloat, 0.5),\n      clap1: localStorageGet('clap1', parseBool, true),\n      clap2: localStorageGet('clap2', parseBool, true),\n      metronome: localStorageGet('metronome', parseBool, false),\n      countMetronome: localStorageGet('countMetronome', parseBool, true),\n      startTime: false,\n      now: false,\n      userInput: false,\n    };\n  }\n\n  componentWillMount() {\n    window.addEventListener('keydown', this.handleKeyDown, false);\n  }\n\n  componentWillUnmount() {\n    this.handleStop();\n\n    this.clap1.disconnect();\n    this.clap2.disconnect();\n    this.metronome.disconnect();\n\n    window.removeEventListener('keydown', this.handleKeyDown, false);\n  }\n\n  //\n\n  handleKeyDown({repeat, key, keyCode, timeStamp}) {\n    if (repeat) return;\n\n    let {userInput} = this.state;\n    let {pattern, pulse} = this.getPosition();\n    let {currPulseDiff, nextPulseDiff} = this.getPulseDiff(performance.now() - timeStamp);\n\n    if (CLAP1_KEYS.includes(keyCode)) {\n      console.log('clap1', currPulseDiff, nextPulseDiff);\n\n      if (userInput[pattern] === undefined) {\n        userInput[pattern] = [];\n      }\n\n      if (currPulseDiff < nextPulseDiff) {\n        userInput[pattern][pulse] = currPulseDiff;\n      } else {\n        pulse += 1;\n        if (pulse === CLAP_PATTERN.length) {\n          pulse = 0;\n          pattern += 1;\n\n          if (userInput[pattern] === undefined) {\n            userInput[pattern] = [];\n          }\n        }\n\n        userInput[pattern][pulse] = nextPulseDiff;\n      }\n\n      this.setState({userInput});\n    } else if (CLAP2_KEYS.includes(keyCode)) {\n      console.log('clap2', currPulseDiff, nextPulseDiff);\n    } else {\n      console.log(key, keyCode);\n    }\n  }\n\n  handleSetting(key, f) {\n    if (typeof f === 'undefined') {\n      f = (x) => x;\n    }\n\n    return ({target: {type, value, checked}}) => {\n        if (type === 'checkbox') {\n          localStorage.setItem(key, checked);\n          this.setState({[`${key}`]: f(checked)});\n        } else {\n          localStorage.setItem(key, value);\n          this.setState({[`${key}`]: f(value)});\n        }\n      }\n  }\n\n  handleStart({timeStamp}) {\n    let {context} = this.props;\n    let {countMetronome} = this.state;\n\n    let now = context.currentTime;\n\n    this.clap1.cancelScheduledValues();\n    this.clap2.cancelScheduledValues();\n    this.metronome.cancelScheduledValues();\n\n    this.performanceNow = performance.now();\n    this.timeStamp = timeStamp;\n\n    this.lastPulse = false;\n\n    this.setState({\n      startTime: now + this.getSecsPerBeat()/2 * CLAP_PATTERN.length,\n      now: now,\n      userInput: [],\n    });\n\n    if (countMetronome) {\n      this.metronome.schedule(ACCENT_GAIN, now, now + CLAP_LENGTH);\n    }\n\n    this.timeInterval = setInterval(() => {\n      this.setState(\n        {now: context.currentTime},\n        this.handleSound\n      );\n    }, 1);\n  }\n\n  handleStop() {\n    let {context} = this.props;\n\n    clearInterval(this.timeInterval);\n\n    this.clap1.cancelScheduledValues();\n    this.clap2.cancelScheduledValues();\n    this.metronome.cancelScheduledValues();\n\n    this.setState({\n      startTime: false,\n      now: false,\n    });\n  }\n\n  //\n\n  handleSound() {\n    let {repeats} = this.state;\n    let {pattern, pulse, totalPulses} = this.getPosition();\n\n    if (pattern >= (CLAP_PATTERN.length + 1) * repeats) {\n      this.handleStop();\n      return;\n    }\n\n    if (this.lastPulse === false) { // Just started: schedfule first pulse\n      this.lastPulse = 0;\n    } else {\n      if (pulse === this.lastPulse) return;\n      this.lastPulse = pulse;\n    }\n\n    // Schedule _next_ pulse\n\n    pulse += 1;\n    totalPulses += 1;\n\n    if (pulse === CLAP_PATTERN.length) {\n      pulse = 0;\n      pattern += 1;\n    }\n\n    if (pattern >= (CLAP_PATTERN.length + 1) * repeats) return;\n\n    this.schedulePulseSound(pulse, pattern, totalPulses);\n  }\n\n  schedulePulseSound(pulse, pattern, totalPulses, instant) {\n    let {clap1, clap2, metronome, countMetronome, repeats} = this.state;\n\n    let pulseStart = this.getPulseStart(totalPulses);\n    let pulseEnd = pulseStart + CLAP_LENGTH;\n    let gain = pulse === 0 ? ACCENT_GAIN : GAIN;\n\n    if (pattern >= 0) {\n      if (clap1 && CLAP_PATTERN[(pulse) % CLAP_PATTERN.length]) {\n        this.clap1.schedule(gain, pulseStart, pulseEnd);\n      }\n\n      let shift = Math.floor(pattern / repeats);\n      if (clap2 && CLAP_PATTERN[(shift + pulse) % CLAP_PATTERN.length]) {\n        this.clap2.schedule(gain, pulseStart, pulseEnd);\n      }\n    }\n\n    let isMetronome = metronome && pattern >= 0 && (pulse % 2) === 0;\n    let isCountMetronome = countMetronome && pattern === -1 && (pulse % 2) === 0;\n    if (isMetronome || isCountMetronome) {\n      this.metronome.scheduleFrequency(\n        pulse === 0 ? METRONOME_ACCENT_F : METRONOME_F,\n        pulseStart\n      );\n      this.metronome.schedule(gain, pulseStart, pulseEnd);\n    }\n  }\n\n  getSecsPerBeat() {\n    return 60/this.state.tempo;\n  }\n\n  getPosition() {\n    let {swing, startTime, now} = this.state;\n\n    if (startTime === false) return {};\n\n    let totalBeats = (now - startTime) / this.getSecsPerBeat();\n\n    let totalPulses = Math.floor(totalBeats) * 2 +\n      ((1 + (totalBeats % 1)) % 1 < swing ? 0 : 1);\n\n    // console.log(totalPulses);\n\n    if (startTime >= now) {\n      let pulse = totalPulses;\n      while (pulse < 0) pulse += CLAP_PATTERN.length;\n\n      return {\n        pattern: Math.floor(totalPulses / CLAP_PATTERN.length),\n        pulse,\n        totalPulses,\n      };\n    }\n\n    return {\n      pattern: Math.floor(totalPulses / CLAP_PATTERN.length),\n      pulse: totalPulses % CLAP_PATTERN.length,\n      totalPulses,\n    };\n  }\n\n  getPulseDiff(delta) {\n    let {context} = this.props;\n    let {swing} = this.state;\n    let {totalPulses} = this.getPosition();\n\n    let now = context.currentTime - delta/1000;\n    let secsPerBeat = this.getSecsPerBeat();\n\n    let currPulseDiff = (now - this.getPulseStart(totalPulses)) / (secsPerBeat * swing);\n    let nextPulseDiff = (this.getPulseStart(totalPulses + 1) - now) / (secsPerBeat * (1 - swing));\n\n    return {\n      currPulseDiff,\n      nextPulseDiff,\n    };\n  }\n\n  getPulseStart(totalPulses) {\n    let {startTime, swing} = this.state;\n\n    let totalBeats = Math.floor(totalPulses/2) +\n      (totalPulses % 2 === 0 ? 0 : swing);\n\n    return startTime + totalBeats * this.getSecsPerBeat();\n  }\n\n  //\n\n  render() {\n    let {tempo, repeats, swing, clap1, clap2, metronome, countMetronome, startTime, now, userInput} = this.state;\n    let {pattern, pulse} = this.getPosition();\n\n    let buttonHandler, buttonLabel;\n    if (pattern === undefined) {\n      buttonHandler = this.handleStart;\n      buttonLabel = 'Start';\n    } else if (pattern < 0) {\n      buttonHandler = this.handleStop;\n      buttonLabel = Math.floor(pulse / 2) + 1;\n    } else {\n      buttonHandler = this.handleStop;\n      buttonLabel = 'Stop';\n    }\n\n    return <div className='reich-app'>\n      <div className='controls'>\n        <fieldset className='tempo'>\n          <Input label='Tempo:' type='number'\n            min={1} max={999} step={1} value={tempo}\n            onChange={this.handleSetting('tempo', parseInt)}\n          />\n          <Input label='Repeats:' type='number'\n            min={1} max={999} step={1} value={repeats}\n            onChange={this.handleSetting('repeats', parseInt)}\n          />\n          <Input label='Swing:' type='number'\n            min={0.1} max={0.9} step={0.01} value={swing}\n            onChange={this.handleSetting('swing', parseFloat)}\n          />\n        </fieldset>\n\n        <fieldset>\n          <div className='noselect'>Sounds:</div>\n          <Input label='Clap 1' type='checkbox' checked={clap1}\n            onChange={this.handleSetting('clap1')}\n          />\n          <Input label='Clap 2' type='checkbox' checked={clap2}\n            onChange={this.handleSetting('clap2')}\n          />\n          <Input label='Metronome' type='checkbox' checked={metronome}\n            onChange={this.handleSetting('metronome')}\n          />\n          <Input label='Count' type='checkbox' checked={countMetronome}\n            onChange={this.handleSetting('countMetronome')}\n          />\n        </fieldset>\n      </div>\n\n      <PatternTable\n        buttonHandler={buttonHandler}\n        buttonLabel={buttonLabel}\n        clapPattern={CLAP_PATTERN}\n        pattern={pattern}\n        pulse={pulse}\n        repeats={repeats}\n        userInput={userInput}\n    />\n    </div>;\n  }\n}\n\nApp.propTypes = {\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/App.jsx","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport PropTypes from 'prop-types'\nimport cx from 'classnames'\n\n// Easing fns\n// t: current time, b: begInnIng value, c: target value, d: duration\n\nconst linearSmooth = (t, b, c, d) => t/d * c + b;\nconst easeOutCubic = (t, b, c, d) => c*((t=t/d-1)*t*t + 1) + b;\nconst easeOutSine = (t, b, c, d) => c * Math.sin(t/d * (Math.PI/2)) + b;\n\nconst smoothScroll = (element, position, duration, easingFn) => {\n  let originalPosition = element.scrollTop;\n  let dx = position - element.scrollTop;\n  let startTime = performance.now();\n\n  let scroll = () => {\n    let dt = performance.now() - startTime;\n\n    if (dt > duration) {\n      element.scrollTop = position;\n      return;\n    }\n\n    element.scrollTop = easingFn(dt, originalPosition, dx, duration);\n\n    requestAnimationFrame(scroll);\n  }\n\n  requestAnimationFrame(scroll);\n};\n\nconst EMPTY_ROWS = 1;\nconst SCROLL_DURATION = 300;\nconst SCROLL_EASING = easeOutSine;\n\nclass ClapRow extends React.PureComponent {\n  render() {\n    let {clapPattern, head, shift, highlightPulse, currentPattern, donePattern, userInput, className} = this.props;\n\n    return <div className={`clap-row ${className}`}>\n      <div className='head'>{head}</div>\n      <div className='pattern'>\n        {clapPattern.map((_, i) => {\n          let shifted = (i + shift) % clapPattern.length;\n          let isClap = clapPattern[shifted];\n          let className = `cell pulse ${isClap ? 'clap' : 'silence'} ${i === highlightPulse ? 'highlight' : ''} `;\n\n          let didntHit = userInput === undefined || userInput[i] === undefined;\n          let colorClass = didntHit\n            ? 'no-hit'\n            : (userInput[i] > 2/3)\n              ? 'hit-bad'\n              : (userInput[i] > 1/3)\n                ? 'hit-ok'\n                : 'hit-good';\n\n          if (currentPattern) {\n            if (i < highlightPulse || (i === highlightPulse && !didntHit)) {\n              className += colorClass;\n            }\n          } else if (donePattern || userInput !== undefined) {\n            className += colorClass;\n          }\n\n          return <div key={i} className={className} />;\n        })}\n      </div>\n    </div>;\n  }\n}\n\nClapRow.defaultProps = {\n  head: '',\n  shift: 0,\n  className: '',\n};\n\nexport default class PatternTable extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.rows = [];\n  }\n\n  componentDidMount() {\n    this.scrollAnchor.scrollTop = this.rows[0] - this.scrollAnchor.offsetTop  + this.rows[0].offsetHeight - 4;\n  }\n\n  componentWillReceiveProps({pattern}) {\n    if (this.props.pattern !== pattern) {\n      if (pattern === undefined || pattern <= 0) pattern = 0;\n\n      this.scrollToPattern(pattern);\n    }\n  }\n\n  scrollToPattern(i) {\n    smoothScroll(\n      document.scrollingElement,\n      this.rows[i].offsetTop - this.scrollAnchor.offsetTop + this.rows[i].offsetHeight - /* HACK */ 4,\n      SCROLL_DURATION,\n      SCROLL_EASING\n    );\n  }\n\n  render() {\n    let {buttonHandler, buttonLabel, clapPattern, pattern, pulse, repeats, userInput, className} = this.props;\n\n    let originalPattern = pattern;\n\n    if (pattern === undefined || pattern <= 0) pattern = 0;\n\n    return <div\n      className={`pattern-table noselect ${className}`}\n      ref={e => this.scrollAnchor = ReactDOM.findDOMNode(e)}\n    >\n      <div className='arrow-row'>\n        <div className='head'>\n          <button className='noselect' onClick={buttonHandler}>{buttonLabel}</button>\n        </div>\n        <div className='pattern'>\n          {clapPattern.map((_, i) => <div key={i} className='cell arrow'>\n              {(originalPattern >= -1) && (i === pulse) ? '▼' : ''}\n          </div>)}\n        </div>\n      </div>\n\n      <div className='pattern-clap1'>\n        <ClapRow clapPattern={clapPattern} head={'Clap 1 ➡'} shift={0} highlightPulse={pulse} />\n      </div>\n\n      <div className='pattern-clap2'>\n        {Array.apply(null, {length: EMPTY_ROWS})\n          .map((_, i) => <ClapRow key={i}\n            ref={e => this.rows[i] = ReactDOM.findDOMNode(e)}\n            clapPattern={clapPattern}\n            className='empty'\n          />\n        )}\n        {Array.apply(null, {length: (clapPattern.length + 1) * repeats})\n          .map((_, i) => <ClapRow key={i}\n            ref={e => this.rows[i + EMPTY_ROWS] = ReactDOM.findDOMNode(e)}\n            clapPattern={clapPattern}\n            className={i === pattern ? 'highlight' : ''}\n            highlightPulse={i === pattern ? pulse : undefined}\n            head={i === pattern ? 'Clap 2 ➡' : ''}\n            shift={Math.floor(i/repeats)}\n            userInput={userInput[i]}\n            donePattern={i < originalPattern}\n            currentPattern={i === originalPattern}\n          />\n        )}\n        <div className='padder'>\n          <div className='head' />\n          <div className='pattern empty'>\n            {clapPattern.map((_, i) => {\n              return <div key={i} className='cell pulse' />;\n            })}\n          </div>\n        </div>\n      </div>\n    </div>;\n  }\n}\n\nPatternTable.defaultProps = {\n  className: '',\n}\n\n\n\n// WEBPACK FOOTER //\n// ./components/PatternTable.jsx","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { AppContainer } from 'react-hot-loader'\n\nimport App from 'components/App'\n\nimport './index.styl'\n\nlet context = new AudioContext();\n\nReactDOM.render(\n  <AppContainer>\n    <App context={context} />\n  </AppContainer>,\n  document.getElementById('container')\n)\n\nif (module.hot) {\n  module.hot.accept('./components/App', () => {\n    const NextApp = require('./components/App').default\n\n    ReactDOM.render(\n      <AppContainer>\n        <App context={context} />\n      </AppContainer>,\n      document.getElementById('container')\n    )\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./index.jsx"],"sourceRoot":""}